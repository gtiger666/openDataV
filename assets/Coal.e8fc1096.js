import{h as B}from"./index.59cf4f9c.js";import{a as C}from"./@vueuse.f12362bf.js";import{_ as L,u as M}from"./index.8c99d488.js";import{p as $,r as o,c as f,q as k,y as z,B as v,I as b,u as V,x as I}from"./@vue.93899e90.js";import"./axios.19d3e859.js";import"./vue-router.62208e1c.js";import"./pinia.7738838c.js";import"./vue-demi.b3a9cad9.js";import"./mitt.550594b0.js";import"./element-plus.da7f9641.js";import"./lodash.1a3e162a.js";import"./nprogress.5f640c6a.js";import"./async-validator.5d25c98b.js";import"./@popperjs.a8a4a6a0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./lodash-es.ef547d44.js";var j="./assets/L.2c052bde.png",y="./assets/R.f301922c.png",w="./assets/LS.f7f121f7.png",X="./assets/RS.5ac371c3.png",Y="./assets/coal.837be039.png";const q=["src"],O=["src"],U=$({props:{element:null,propValue:null},setup(x){const e=x,n=o(!1),p=[-20,20],m=[-20,20];let H=o(1),c=o(0),g=o(0);const _=o(null),h=o(j),d=o(y);let N;const R=f(()=>({backgroundImage:`url(${Y})`,transform:`scale(${H.value})`})),D=f(()=>({transform:`translateX(-70%) translateY(-15%) rotate(${c.value}deg)`})),S=f(()=>({transform:`translateX(70%) translateY(-15%) rotate(${g.value}deg)`})),E=()=>{const l=e.propValue.leftDdrumHeightTag,a=e.propValue.rightDdrumHeightTag,s=e.propValue.statusTag;B.post({url:e.propValue.historyUrl,data:[l,a,s]}).then(r=>{r.ErrorCode===200&&(N=r.Results||[],N.forEach(u=>{T(u)}))}).catch(r=>{console.log(r)}).finally(()=>{console.log("--")})},T=l=>{const a=l,s=e.propValue.leftDdrumHeightTag,r=e.propValue.rightDdrumHeightTag,u=e.propValue.statusTag;if(a.TagName===u&&(a.TagValue==="1"?(n.value=!0,h.value=j,d.value=y):(n.value=!1,h.value=w,d.value=X,c.value=0,g.value=0)),n.value){if(a.TagName===r){let t=Number(a.TagValue);t>Number(e.propValue.maxHeight)?t=Number(e.propValue.maxHeight):t<Number(e.propValue.minHeight)&&(t=Number(e.propValue.minHeight));const i=(t-Number(e.propValue.minHeight))/(Number(e.propValue.maxHeight)-Number(e.propValue.minHeight));g.value=-Math.round(i*(p[1]-p[0])-p[0])}if(a.TagName===s){let t=Number(a.TagValue);t>Number(e.propValue.maxHeight)?t=Number(e.propValue.maxHeight):t<Number(e.propValue.minHeight)&&(t=Number(e.propValue.minHeight));const i=(t-Number(e.propValue.minHeight))/(Number(e.propValue.maxHeight)-Number(e.propValue.minHeight));c.value=Math.round(i*(m[1]-m[0])-m[0])}}};return C(_,l=>{const a=l[0],{width:s,height:r}=a.contentRect,u=r/63,t=s/245,i=Math.min(u,t);H.value=i}),k(()=>{E()}),M("actual",T),(l,a)=>(I(),z("div",{ref:(s,r)=>{r.mainEl=s,_.value=s},class:"coal"},[v("div",{style:b(V(R)),class:"content"},[v("img",{class:"l",src:h.value,style:b(V(D))},null,12,q),v("img",{class:"r",src:d.value,style:b(V(S))},null,12,O)],4)],512))}});var ue=L(U,[["__scopeId","data-v-6be74910"]]);export{ue as default};
